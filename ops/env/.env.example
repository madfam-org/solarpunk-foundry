# =============================================================================
# MADFAM-INFRASTRUCTURE - Environment Configuration
# =============================================================================
# Copy this file to .env.production and fill in all values
# This is the unified production configuration for all MADFAM services
# DO NOT commit .env.production to version control
# =============================================================================

# -----------------------------------------------------------------------------
# SHARED INFRASTRUCTURE
# -----------------------------------------------------------------------------

# PostgreSQL (Shared across all services)
POSTGRES_HOST=madfam-postgres-shared
POSTGRES_PORT=5432
POSTGRES_USER=madfam
POSTGRES_PASSWORD=__CHANGE_ME_STRONG_PASSWORD__
POSTGRES_SSL_MODE=require

# Individual database names
JANUA_DB_NAME=janua_db
FORGESIGHT_DB_NAME=forgesight_db
COTIZA_DB_NAME=cotiza_db
MADFAM_SITE_DB_NAME=madfam_site_db
DHANAM_DB_NAME=dhanam_db
FORTUNA_DB_NAME=fortuna_db

# Redis (Shared across all services)
REDIS_HOST=madfam-redis-shared
REDIS_PORT=6379
REDIS_PASSWORD=__CHANGE_ME_REDIS_PASSWORD__

# MinIO / S3 Storage
MINIO_ENDPOINT=madfam-minio-shared:9000
MINIO_ROOT_USER=__CHANGE_ME_MINIO_USER__
MINIO_ROOT_PASSWORD=__CHANGE_ME_MINIO_PASSWORD__
MINIO_USE_SSL=true

# -----------------------------------------------------------------------------
# JANUA - Authentication Infrastructure (Port 8001)
# -----------------------------------------------------------------------------
JANUA_PORT=8001
JANUA_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${JANUA_DB_NAME}?sslmode=${POSTGRES_SSL_MODE}
JANUA_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# JWT Configuration (SHARED ACROSS ECOSYSTEM)
JANUA_JWT_SECRET=__CHANGE_ME_JWT_SECRET_MIN_32_CHARS__
JANUA_JWT_EXPIRY=3600
JANUA_REFRESH_TOKEN_EXPIRY=604800

# OAuth Providers (optional)
JANUA_GOOGLE_CLIENT_ID=
JANUA_GOOGLE_CLIENT_SECRET=
JANUA_GITHUB_CLIENT_ID=
JANUA_GITHUB_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# FORGESIGHT - Vendor Intelligence (Port 8100)
# -----------------------------------------------------------------------------
FORGESIGHT_PORT=8100
FORGESIGHT_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${FORGESIGHT_DB_NAME}?sslmode=${POSTGRES_SSL_MODE}
FORGESIGHT_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/2

# -----------------------------------------------------------------------------
# COTIZA - Quoting Platform (Port 8200)
# -----------------------------------------------------------------------------
COTIZA_PORT=8200
COTIZA_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${COTIZA_DB_NAME}?sslmode=${POSTGRES_SSL_MODE}
COTIZA_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/1

# Stripe Integration
STRIPE_SECRET_KEY=__YOUR_STRIPE_SECRET_KEY__
STRIPE_WEBHOOK_SECRET=__YOUR_STRIPE_WEBHOOK_SECRET__

# -----------------------------------------------------------------------------
# DOCKER REGISTRY
# -----------------------------------------------------------------------------
DOCKER_REGISTRY=ghcr.io/madfam-io
IMAGE_TAG=latest

# -----------------------------------------------------------------------------
# SECURITY NOTICE
# -----------------------------------------------------------------------------
# ⚠️  WARNING: Fill in all __CHANGE_ME__ values before deployment
# ⚠️  NEVER commit real secrets to git
# ⚠️  Use strong, unique passwords for all services
# ⚠️  Rotate secrets regularly in production
